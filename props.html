<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
    -- 일반적인 문자열 "1"을 전달 합니다.<br>
    &lt;com some-prop=="1"&gt;&lt;/compt&gt;<br>
    
    -- 실제 숫자로 전달(javascript 표현식으로 평가되도록 v-bind를 사용)<br>
    &lt;comp v-bind:some-prop="1"&gt;&lt;/compt&gt;
    
    <br>

    <!-- 1 -->
    <div id="app1">
        <input v-model="parentMsg">
        <br>
        <child :my-msg="parentMsg"></child>
    </div>

    <br>

    $on(eventName)를 사용하여 이베느를 감지<br>
    $emit(eventName)을 사용하여 이벤트를 트리거<br>
    $on 자식에서 호출한 이벤트는 감지 하지 않는다. v-on 템플릿에 지정<br>
    <br>

    <!-- 2 -->
    <div id="counter-event-example1">
        <p> {{total}} </p>
        <button-counter v-on:increment="incrementTotal"></button-counter>
        <button-counter v-on:increment="incrementTotal"></button-counter>
    </div>

    <div id="dd">
        <p> {{total1}} </p>
        <test-com v-on:increment="incrementTotal"></test-com>
    </div>


    <!-- -------------------------------------------------------------------- -->
    
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script>
        
        Vue.component('child',{
            props: ['myMsg']
            ,template: '<span>{{myMsg}}</span>'
        });

        new Vue({
            el: '#app1'
            ,data: {
                parentMsg: ""
            },props: ['myMsg1']
        });

        /*
        // props 유효성 검사
        Vue.component('example', {
            props : {
                // 기본타입확인('null'은 어떤 타입이든 가능)
                propA: Number,
                propB: [String, Number], //여러개의 가능한 타입
                propC: {
                    type: String,
                    required: true //문자열이며 꼭 필요합니다
                },
                propD: {
                    type: Number,
                    defalut: 100 //숫자이며 기본 값을 가짐
                },
                propE: {
                    // 객체/배열의 기본값은 팩토리 함수에서 반환
                    type: Object,
                    default: function(){
                        return {messag : 'hello'}
                    }
                },
                // 사용자 정의 유효성 검사
                propF:{
                    validator: function(){
                        return value > 10;
                    }
                }
            }
        });
        */

        Vue.component('button-counter',{
            template: '<button v-on:click="incrementCounter">{{counter}}</button>'
            ,data: function(){
                return { counter : 0}
            },
            methods: { // 버튼 이벤트 동작(incrementCounter) 
                        // 컴포넌트 내부 이벤트
                incrementCounter: function(){
                    this.counter += 1;
                    this.$emit('increment') // html에서 increment를 v-on 감지
                }
            }
        });

        new Vue({
            el: '#counter-event-example1'
            ,data:{
                total: 0 //기본 값설정
            }
            ,methods: { // 버튼 이벤트 동작(incrementTotal)
                incrementTotal: function(){
                    this.total += 1;
                }
            }
        });

        

    </script>

    <!-- 테스트 -->
    <script>
    
        Vue.component('test-com',{
            template: '<button v-on:click="incre"> {{count}} </button>'
            , data: function(){return {count : 0}},
            methods: {
                incre: function(){
                    this.count += 1;
                    this.$emit('increment')
                }
            },
        });

        new Vue({
            el: '#dd'
            ,data: {total1:0}
            ,methods: {
                incrementTotal: function(){ this.total1 += 1 }
            },
        });



    </script>

    


</body>
</html>